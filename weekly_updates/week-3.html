<!doctype html>
<html lang="en">
<head>
 in <head> or before </body> 
<script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
<script async="" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1" name="viewport"/>
<title>Weekly Updates (Pure HTML)</title>
<style>
    :root {
  --bg: #f9fafb;        /* soft near-white background */
  --panel: #e6edf3;     /* light pastel blue/grey panels */
  --text: #1a1c1e;      /* dark but not harsh black text */
  --muted: #6b7280;     /* muted grey for secondary text */
  --accent: #3b82f6;    /* gentle blue accent */
  --ring: rgba(59, 130, 246, 0.3); /* subtle highlight for focus rings */
}

    html, body { height: 100%; }
    body {
      margin: 0; font-family: system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif;
      background: var(--bg); color: var(--text);
    }
    .wrap { max-width: 1200px; margin: 0 auto; padding: 24px; }
    .title { font-size: clamp(28px, 3vw, 40px); margin: 0 0 8px; }
    .sub { color: var(--muted); margin: 0 0 24px; }

    .grid { display: grid; grid-template-columns: 300px 1fr; gap: 24px; }
    @media (max-width: 900px) { .grid { grid-template-columns: 1fr; } }

    .panel { background: var(--panel); border-radius: 16px; box-shadow: 0 6px 24px rgba(0,0,0,.35); }
    .sidebar { padding: 8px; }
    .list { list-style: none; margin: 0; padding: 8px; max-height: 70vh; overflow: auto; }
    .btn {
      display: block; width: 100%; text-align: left; padding: 12px 14px; margin: 6px 0;
      color: var(--text); background: transparent; border: 1px solid transparent;
      border-radius: 12px; cursor: pointer; font: inherit;
    }
    .btn:hover { background: rgba(255,255,255,.04); }
    .btn[aria-current="true"] { background: rgba(79,163,255,.08); border-color: var(--ring); }

    .content { padding: 20px 24px; }
    .content h2 { margin-top: 0; }
    .muted { color: var(--muted); }

    table { width: 100%; border-collapse: collapse; }
    th, td { padding: 8px 10px; border-bottom: 1px solid rgba(255,255,255,.08); text-align: left; }
    code { background: rgba(255,255,255,.08); padding: 2px 6px; border-radius: 6px; }
    a { color: var(--accent); }
  </style>
</head>
<body>
  <main class="wrap">
    <h1 class="title">Weekly Updates</h1>
    <p class="sub"><a href="index.html">← Back to split index</a> <span class="muted">|</span> <a href="../index.html">Open original single-file view</a></p>

    <section class="panel content">
      <h2>Week 3 — OCT 23</h2>
<div class="section">

<h2>Experiment Setup and Methodology</h2>
<p>
    In this experiment, we generated 1,000 random data points and evaluated the performance of nearest neighbor search algorithms across varying dimensionalities.
    The dimensional range used was:
  </p>
<p>\[
  D_s = [16, 64, 256, 1024, 4096]
  \]</p>
<p>Similarly we kept the dimension constant and noted the build and the query time for the kd and annoy algorithm. Here the dimension was kept contant at 128</p>
<p>\[n_s = [1000,2000,3000,4000]\]</p>
<p>
    These dimensions were selected to study algorithm performance under high-dimensional settings.
    We conducted nearest neighbor searches for 50,000 query points to obtain a stable average and suppress random noise in measurements.
  </p>
<h3>Algorithms Compared</h3>
<ol>
<li><b>Brute Force Search</b> – served as the ground truth for accuracy evaluation.</li>
<li><b>KD-Tree Search</b> – a space-partitioning structure for efficient nearest neighbor queries in moderate dimensions.</li>
<li><b>Annoy Tree (Approximate Nearest Neighbors Oh Yeah)</b> – designed for high-dimensional data and large-scale approximate search.</li>
</ol>
<p>
    For each algorithm, we recorded the indices of the nearest neighbors found. 
    Additionally, for the KD-Tree and Annoy Tree methods, we measured:
  </p>
<ul>
<li><b>Build Time</b>: Time required to construct the tree structure.</li>
<li><b>Query Time</b>: Time taken to retrieve the nearest neighbors for all query points.</li>
</ul>

  While running the experiment we found the following data 
  <h3>Figure: Query and Build Time</h3>
<div class="figure-placeholder"> <img alt="plot" src="plot.png"/></div>
<div class="figure-placeholder"> <img alt="plot" src="plot_n.png"/></div>
<h3>Results and Discussion</h3>
<h3>1. Query Time and Build Time Analysis</h3>
<p>
    The KD-Tree query time increases rapidly with higher dimensionality, showing that its performance deteriorates as the number of dimensions grows.
    The relationship between query time and dimensionality is approximately linear.
  </p>
<h3>Figure: Time Comparison</h3>
<div class="figure-placeholder"> <img alt="time Comparison example" height="400" src="time_comparison.png" width="800"/></div>
<p>
    In contrast, the Annoy Tree demonstrates significantly better scalability.
    For instance, at a dimensionality of 4096, the KD-Tree required more than 400 seconds, whereas the Annoy Tree completed the same task in approximately 100 seconds.
  </p>
<p>
    Quantitatively, Annoy was:
    <br/>
    2.1×, 6.9×, 14.3×, 7.9×, and 4.3× faster than KD-Tree at dimensions 16, 64, 256, 1024, and 4096, respectively.
  </p>
<h2>Query in terms of n </h2>
<div class="figure-placeholder"> <img alt="plot" height="400" src="time_n.png" width="700"/></div>
<p>We can see that the effect of n is also similar to the D where the time for higher n is more in annoy tree as annoy has to ccalculate more number of trees for those n. Whereas the query time is complety flat for annoy whereas near linear in kd </p>
<h3>2. Accuracy (Recall) Comparison</h3>
<p>
    We evaluated the accuracy of KD-Tree and Annoy Tree against the brute-force search (the ground truth) using a recall-based metric.
    For each query, we compared whether the nearest neighbor index found by KD or Annoy matched the brute-force result — assigning 1 for a correct match and 0 otherwise.
    The mean of these values gives the recall score.
  </p>
<table>
<thead>
<tr>
<th>Dimension (D)</th>
<th>KD Recall</th>
<th>Annoy Recall</th>
</tr>
</thead>
<tbody>
<tr><td>16</td><td>1.00000</td><td>0.80802</td></tr>
<tr><td>64</td><td>1.00000</td><td>0.33640</td></tr>
<tr><td>256</td><td>1.00000</td><td>0.40548</td></tr>
<tr><td>1024</td><td>1.00000</td><td>1.00000</td></tr>
<tr><td>4096</td><td>1.00000</td><td>1.00000</td></tr>
</tbody>
</table>
<p>
    The KD-Tree achieves a perfect recall of 1.0 across all dimensions, confirming it always finds the exact nearest neighbor — but at the cost of speed.
    The Annoy Tree, being an approximate nearest neighbor algorithm, trades some accuracy for performance.
  </p>
<h3>3. Effect of <i>search_k</i> Parameter</h3>
<p>
    For Annoy, accuracy can be improved by tuning the <code>search_k</code> parameter. 
    This parameter controls the number of nodes explored during a query — higher values of <code>search_k</code> cause the algorithm to search more candidate nodes, improving recall but also increasing query time.
  </p>
<h3>Figure: Recall Plot</h3>
<div class="figure-placeholder"> <img alt="recall" src="recall.png"/></div>
<h3>4. Memory Size Comparison</h3>
<table>
<thead>
<tr>
<th>Dimension (D)</th>
<th>Annoy File Size (KB)</th>
<th>KD File Size (KB)</th>
</tr>
</thead>
<tbody>
<tr><td>16</td><td>663.28</td><td>142.38</td></tr>
<tr><td>64</td><td>825.03</td><td>540.63</td></tr>
<tr><td>256</td><td>1553.91</td><td>2133.63</td></tr>
<tr><td>1024</td><td>4417.19</td><td>8505.63</td></tr>
<tr><td>4096</td><td>17617.19</td><td>33993.63</td></tr>
</tbody>
</table>
<p>
    For lower dimensions (\( D &lt; 65 \)), the memory size for the Annoy Tree is larger, as it constructs multiple random trees.
    For higher dimensions (\( D &gt; 65 \)), the KD-Tree requires significantly more memory because it must store metadata for each partition.
    At \( D = 4096 \), the KD-Tree memory usage is nearly twice that of Annoy.
  </p>

</div>
<section>
<h2>Empirical Time Complexity Analysis</h2>
<p>
    We estimate how execution time (<em>t</em>) scales with dimensionality (<em>d</em>) by assuming a power-law:
    <code>t = c · d^α</code>, where <code>α</code> is the scaling exponent and <code>c</code> is a constant.
    Taking logarithms yields <code>log t = log c + α · log d</code>, so the slope on a log–log plot of
    <code>t</code> vs <code>d</code> gives the empirical value of <code>α</code>.
  </p>
<p><strong>Method validity:</strong> The log–log slope (power-law fit) approach is a standard, correct way to report
  empirical “Big-O” style scaling when varying one factor (here, dimension) under otherwise fixed conditions.</p>
<h3>Estimated Exponents (α)</h3>
<table border="1" cellpadding="6" cellspacing="0">
<thead>
<tr>
<th>Method</th>
<th>Build-time Exponent (α)</th>
<th>Query-time Exponent (α)</th>
<th>Complexity (Build)</th>
<th>Complexity (Query)</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>KD-Tree</strong></td>
<td style="text-align:center;">0.80</td>
<td style="text-align:center;">1.04</td>
<td><code>O(d^0.80)</code></td>
<td><code>O(d^1.04)</code></td>
</tr>
<tr>
<td><strong>Annoy Tree</strong></td>
<td style="text-align:center;">0.38</td>
<td style="text-align:center;">0.81</td>
<td><code>O(d^0.38)</code></td>
<td><code>O(d^0.81)</code></td>
</tr>
</tbody>
</table>
<h3>Interpretation</h3>
<ul>
<li>
<strong>Build time:</strong> Both KD-Tree and Annoy exhibit <em>sub-linear</em> scaling with dimension.
      KD-Tree’s exponent (~0.80) is higher than Annoy’s (~0.38), indicating Annoy’s build scales more gently as
      <code>d</code> increases.
    </li>
<li>
<strong>KD-Tree query:</strong> The query-time exponent is ~1.04, i.e., <em>approximately linear</em> in
      <code>d</code>, reflecting the curse-of-dimensionality effects on traversal and distance checks.
    </li>
<li>
<strong>Annoy query:</strong> The exponent is ~0.81 (sub-linear), indicating slower growth with dimension
      compared to KD-Tree under the tested settings.
    </li>
</ul>
</section>
<table style="
  border-collapse: collapse;
  width: 100%;
  font-family: Arial, sans-serif;
  font-size: 13px;
  text-align: center;
  margin: 20px auto;
  table-layout: fixed;
  word-wrap: break-word;
">
<thead>
<tr style="background-color: #f2f2f2;">
<th style="border: 1px solid #444; padding: 4px;">D</th>
<th style="border: 1px solid #444; padding: 4px;">KD_build<br/>(s)</th>
<th style="border: 1px solid #444; padding: 4px;">KD_query<br/>(s)</th>
<th style="border: 1px solid #444; padding: 4px;">Annoy_build<br/>(s)</th>
<th style="border: 1px solid #444; padding: 4px;">Annoy_query<br/>(s)</th>
<th style="border: 1px solid #444; padding: 4px;">KD_build<br/>α</th>
<th style="border: 1px solid #444; padding: 4px;">KD_query<br/>α</th>
<th style="border: 1px solid #444; padding: 4px;">Annoy_build<br/>α</th>
<th style="border: 1px solid #444; padding: 4px;">Annoy_query<br/>α</th>
</tr>
</thead>
<tbody>
<tr>
<td style="border: 1px solid #444; padding: 4px;">16</td>
<td style="border: 1px solid #444; padding: 4px;">0.004263</td>
<td style="border: 1px solid #444; padding: 4px;">1.35271</td>
<td style="border: 1px solid #444; padding: 4px;">0.032974</td>
<td style="border: 1px solid #444; padding: 4px;">1.114981</td>
<td colspan="4" style="border: 1px solid #444; color: gray;">—</td>
</tr>
<tr style="background-color: #fafafa;">
<td style="border: 1px solid #444; padding: 4px;">64</td>
<td style="border: 1px solid #444; padding: 4px;">0.004386</td>
<td style="border: 1px solid #444; padding: 4px;">5.520358</td>
<td style="border: 1px solid #444; padding: 4px;">0.018827</td>
<td style="border: 1px solid #444; padding: 4px;">0.93985</td>
<td style="border: 1px solid #444; padding: 4px;">0.020483</td>
<td style="border: 1px solid #444; padding: 4px;">1.014454</td>
<td style="border: 1px solid #444; padding: 4px;">-0.40425</td>
<td style="border: 1px solid #444; padding: 4px;">-0.123258</td>
</tr>
<tr>
<td style="border: 1px solid #444; padding: 4px;">256</td>
<td style="border: 1px solid #444; padding: 4px;">0.033696</td>
<td style="border: 1px solid #444; padding: 4px;">26.368551</td>
<td style="border: 1px solid #444; padding: 4px;">0.022434</td>
<td style="border: 1px solid #444; padding: 4px;">1.988607</td>
<td style="border: 1px solid #444; padding: 4px;">1.470819</td>
<td style="border: 1px solid #444; padding: 4px;">1.127992</td>
<td style="border: 1px solid #444; padding: 4px;">0.126448</td>
<td style="border: 1px solid #444; padding: 4px;">0.540628</td>
</tr>
<tr style="background-color: #fafafa;">
<td style="border: 1px solid #444; padding: 4px;">1024</td>
<td style="border: 1px solid #444; padding: 4px;">0.150219</td>
<td style="border: 1px solid #444; padding: 4px;">111.24092</td>
<td style="border: 1px solid #444; padding: 4px;">0.055555</td>
<td style="border: 1px solid #444; padding: 4px;">16.213309</td>
<td style="border: 1px solid #444; padding: 4px;">1.078208</td>
<td style="border: 1px solid #444; padding: 4px;">1.038399</td>
<td style="border: 1px solid #444; padding: 4px;">0.654099</td>
<td style="border: 1px solid #444; padding: 4px;">1.513674</td>
</tr>
<tr>
<td style="border: 1px solid #444; padding: 4px;">4096</td>
<td style="border: 1px solid #444; padding: 4px;">0.377542</td>
<td style="border: 1px solid #444; padding: 4px;">451.057634</td>
<td style="border: 1px solid #444; padding: 4px;">0.274202</td>
<td style="border: 1px solid #444; padding: 4px;">99.347379</td>
<td style="border: 1px solid #444; padding: 4px;">0.664784</td>
<td style="border: 1px solid #444; padding: 4px;">1.009812</td>
<td style="border: 1px solid #444; padding: 4px;">1.151629</td>
<td style="border: 1px solid #444; padding: 4px;">1.307652</td>
</tr>
</tbody>
</table>
    </section>
  </main>
</body>
</html>
